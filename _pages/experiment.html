---
layout: single
title: "Experiment"
permalink: /experiment/
author_profile: true
---

<div style="text-align: center; padding: 20px;">
    <iframe 
        id="experimentFrame"
        src="https://belabeu-e7061ee8ef78.herokuapp.com/demo/dsst?test=1"
        style="width: 100%; height: 800px; border: none; border-radius: 4px;"
    ></iframe>
</div>

<script>
// Функция для извлечения кода сессии
function extractSessionCode(text) {
    const match = text.match(/SessionStartLinks\/([a-z0-9]+)/);
    return match ? match[1] : null;
}

// Получаем iframe
const frame = document.getElementById('experimentFrame');

// Ждем секунду для получения сообщения с кодом сессии
setTimeout(() => {
    // Берем последнее сообщение с консоли
    const testMessage = "Partitioned cookie or storage access was provided to 'https://belabeu-e7061ee8ef78.herokuapp.com/SessionStartLinks/9cuski2h'";
    const sessionCode = extractSessionCode(testMessage);
    
    if (sessionCode) {
        console.log('Found session code:', sessionCode);
        // Создаем URL для split screen и открываем его
        const splitScreenUrl = `https://belabeu-e7061ee8ef78.herokuapp.com/SessionSplitScreen/${sessionCode}`;
        console.log('Opening split screen URL:', splitScreenUrl);
        frame.src = splitScreenUrl;
    }
}, 1000);
</script> 